@using Appva.Core.Resources;
@model IList<Appva.Mcss.Admin.Domain.Entities.Role>
@{ ViewBag.Title = "Roller"; }

<div id="main">
	<div id="subheader" class="cf">
		<h1>Roller och behörigheter</h1>
	   @Html.PermissionLink(PermissionTypes.CreateRole, "Ny roll", "Create", "Roles", "Roles", null, new { @class = "btn lb-link" })
	</div>
    @Html.Alert(new { @class = "success-msg" })
	@if (Model != null && Model.Count > 0)
	{
		<ul class="people">
			@foreach(var role in Model)
			{
				<li class="cf">
					@if (role.IsDeletable)
					{
						@Html.PermissionLink(PermissionTypes.DeleteRole, "Ta bort", "Delete", "Roles", "Roles", new { Id = role.Id }, new { @class = "btn btn-del" })
					}
					@Html.PermissionLink(PermissionTypes.UpdateRole, "Redigera", "Update", "Roles", "Roles", new { Id = role.Id }, new { @class = "btn lb-link" })
					@Html.PermissionLink(PermissionTypes.UpdateRole, "Koppla till signeringslista", "Update", "RolesSchedules", "Roles", new { Id = role.Id }, new { @class = "btn lb-link" })
					<div class="h">
						<h2>@role.Name</h2>
						<span class="pnr">@role.Description</span>
					</div>
				</li>
			}
		</ul>
	}
</div>