@model Appva.Mcss.Admin.Models.UpdateAccount
@{
    SetTitle(Localizer["Ändra_medarbetaruppgifter"].ToString());
}
<div class="std-panel std-form lb-panel-small lb-validate-form" data-valclass="AccountCreate" data-valparams="id=@Model.Id;uidUrl=@Url.Action("VerifyUniqueAccount");taxonUrl=@Url.Action("VerifyTaxon", "Taxa", new { Area = string.Empty })">
    @using (Html.Post())
    {
        <div>
            <h3 class="section-title">@Localizer["Ändra_medarbetaruppgifter"]</h3>
            @if (Model.IsFirstNameFieldVisible)
            {
                @Html.FormGroup(x => x.FirstName, "text large").Label().TextBox().Validate().Build()
            }
            else
            {
                @Html.HiddenFor(x => x.FirstName, "text large")
            }
            @if (Model.IsFirstNameFieldVisible)
            {
                @Html.FormGroup(x => x.LastName, "text large").Label().TextBox().Validate().Build()
            }
            else
            {
                @Html.HiddenFor(x => x.LastName, "text large")
            }
            @Html.FormGroup(x => x.PersonalIdentityNumber, "text").Label().TextBox(htmlAttributes: new { disabled = "disabled" }).Validate().Build()
            @if (Model.IsMailFieldVisible)
            {
                @Html.FormGroup(x => x.Email, "text large").Label().TextBox().Validate().Build()
            }
            else
            {
                @Html.HiddenFor(x => x.Email, "text large")
            }

            @if (Model.IsMobileDevicePasswordFieldVisible)
            {
                @Html.FormGroup(x => x.DevicePassword, "text").Label().Password(null, new { value = Model.DevicePassword }).Validate().Build()
            }
            else
            {
                @Html.HiddenFor(x => x.DevicePassword, "")
            }
            @if (Model.IsUsernameVisible)
            {
                @Html.FormGroup(x => x.Username, "text").Label().TextBox(htmlAttributes: new { disabled = "disabled" }).Validate().Build()
            }
            @if (Model.IsHsaIdFieldVisible)
            {
                @Html.FormGroup(x => x.HsaId, "text").Label(Localizer["HSA_ID"].ToString()).TextBox().Validate().Build()
            }
            else
            {
                @Html.HiddenFor(x => x.HsaId, "")
            }
            <div class="select selectgroup cf">
                <strong>@Localizer["Adress_"]</strong>
                @if (Model.Taxons.IsNotNull())
                {
                    foreach (var taxon in Model.Taxons)
                    {
                        <div class="select">
                            <label class="structural">@taxon.Label</label>
                            @Html.DropDownList(taxon.Id,
                                new SelectList(taxon.Taxons, "Value", "Text", taxon.Selected),
                                Localizer["Välj_{0}_", taxon.OptionLabel].ToString(),
                                new { @class = "dropdown" }
                            )
                        </div>
                    }
                }
                @Html.HiddenFor(m => m.Taxon)
                @Html.ValidationMessageFor(m => m.Taxon)
            </div>
        </div>
        <div class="submit">
            @Html.Submit(Localizer["Spara"].ToString())
            @Html.Cancel(Localizer["Avbryt"].ToString())
        </div>
    }
</div>