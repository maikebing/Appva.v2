@model IList<Appva.Mcss.Admin.Application.Models.IMenuItem>
@{
    var context = ViewContext.ParentActionViewContext ?? ViewContext;
    var actionName = context.RouteData.GetRequiredString("action");
    var controllerName = context.RouteData.GetRequiredString("controller");
    var areaName = context.RouteData.DataTokens["area"] as string;
}
<div id="nav-main">
    <ul class="cf">
        @foreach (var item in Model)
        {
            <li class="@item.ListItemCssClass @(item.IsSelected(actionName, controllerName, areaName) ? "sel" : string.Empty)">
                @Html.ActionLink(item.Label + " " +item.Children.Count, item.Action, item.Controller, new { Area = item.Area }, new { @class = @item.AnchorCssClass })
            </li>
        }
    </ul>
</div>